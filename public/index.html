<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ProjectHub - Academic Project Marketplace</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header/Navigation -->
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <button class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="logo">üìö ProjectHub</div>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#" class="nav-link">Home</a></li>
                    <li><a href="#projects" class="nav-link">Projects</a></li>
                    <li><a href="#" class="nav-link">About</a></li>
                    <li><a href="#" class="nav-link">Contact</a></li>
                </ul>
                <button class="search-btn" id="searchBtn">üîç Search</button>
                <div class="cart-icon" id="cartIcon">
                    <span>üõí</span>
                    <span class="cart-count" id="cartCount">0</span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Projects Section -->
    <section class="projects" id="projects">
        <div class="container">
            <div class="projects-header">
                <h2>Available Projects</h2>
                <div class="filter-dropdown">
                    <button class="filter-btn" id="filterBtn">‚öôÔ∏è Filter</button>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <button class="dropdown-item" onclick="filterBySubject('All')">All Subjects</button>
                    </div>
                </div>
            </div>
            <div class="projects-grid" id="projectsGrid">
                <!-- Projects will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Product Detail Section -->
    <section class="product-detail" id="productDetail" style="display: none;">
        <!-- Detail Header -->
        <div class="detail-header">
            <button class="detail-back-btn" onclick="backToProjects()">‚Üê</button>
            <div class="detail-header-icons">
                <button class="header-icon" id="favoriteBtn" onclick="toggleFavorite()">ü§ç</button>
                <button class="header-icon" onclick="openCartModal()">üõí</button>
            </div>
        </div>

        <!-- Detail Content -->
        <div class="detail-scroll-content">
            <!-- Image Section -->
            <div class="detail-image-section">
                <img id="detailImage" src="" alt="Product Image" class="detail-main-image">
            </div>

            <!-- Info Section -->
            <div class="detail-info-section">
                <h1 id="detailName" class="detail-product-name"></h1>
                
                <div class="detail-meta">
                    <span id="detailSubject" class="detail-subject"></span>
                    <span id="detailCollege" class="detail-college"></span>
                </div>

                <div class="detail-price-box">
                    <p class="detail-price-label">Price</p>
                    <p id="detailPrice" class="detail-price"></p>
                </div>

                <div class="detail-description">
                    <h3>About this project</h3>
                    <p id="detailDesc">Premium physical project file with complete documentation, implementation code printouts, and detailed explanation. Perfect for academic submission and understanding.</p>
                </div>

                <div class="detail-specs">
                    <h3>Product Details</h3>
                    <div class="spec-row">
                        <span class="spec-label">Format:</span>
                        <span class="spec-value">Printed & Bound</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Pages:</span>
                        <span class="spec-value">40-60 pages</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Delivery:</span>
                        <span class="spec-value">3-5 Working Days</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Package Includes:</span>
                        <span class="spec-value">Report + Code + Docs</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Condition:</span>
                        <span class="spec-value">Brand New</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Stock Status:</span>
                        <span class="spec-value">In Stock</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add to Cart Button (Fixed at bottom) -->
        <div class="detail-footer">
            <button class="detail-add-cart-btn" onclick="addToCartFromDetail()">Add to Cart</button>
        </div>
    </section>

    <!-- Search Modal -->
    <div class="search-modal" id="searchModal" style="display: none;">
        <div class="search-container">
            <div class="search-input-wrapper">
                <input type="text" id="searchInput" class="search-input" placeholder="Search by project name, subject, or college...">
                <div class="search-suggestions" id="searchSuggestions"></div>
            </div>
        </div>
    </div>

    <!-- Full Page Cart Section -->
    <section class="cart-page" id="cartPage" style="display: none;">
        <!-- Header -->
        <div class="cart-page-header">
            <button class="cart-close-btn" onclick="backToProjects()">‚úï</button>
            <button class="cart-heart-btn">ü§ç</button>
        </div>

        <!-- Content -->
        <div class="cart-page-content">
            <!-- Bag Title -->
            <div class="cart-bag-title">
                <h2>Bag (<span id="cartItemCount">0</span> product<span id="cartProductS">s</span>)</h2>
            </div>

            <!-- Cart Items -->
            <div class="cart-page-items" id="cartPageItems">
                <p class="empty-cart">Your cart is empty</p>
            </div>

            <!-- Benefits Bar -->
            <div class="cart-benefits">
                <span>‚úì Assured Quality</span>
                <span>| Easy Returns</span>
                <span>| Free Shipping</span>
            </div>

            <!-- Coupon Section -->
            <div class="cart-coupon-section">
                <div class="coupon-icon">üéüÔ∏è</div>
                <div class="coupon-text">Apply coupon</div>
                <a href="#" class="coupon-select">Select</a>
            </div>

            <!-- Order Details -->
            <div class="cart-order-details">
                <h3>Order Details</h3>
                <div class="detail-row">
                    <span>Bag Total</span>
                    <span>‚Çπ<span id="cartBagTotal">0</span></span>
                </div>
                <div class="detail-row">
                    <span>Coupon savings</span>
                    <a href="#">Apply coupon</a>
                </div>
                <div class="detail-row">
                    <span>Delivery Fee</span>
                    <span class="detail-free">Free</span>
                </div>
                <div class="detail-row">
                    <span>Platform Fee</span>
                    <span class="detail-free">Free</span>
                </div>
                <div class="detail-row total">
                    <span>Amount Payable</span>
                    <span>‚Çπ<span id="cartAmountPayable">0</span></span>
                </div>
            </div>

            <!-- Spacer for fixed footer -->
            <div style="height: 150px;"></div>
        </div>

        <!-- Fixed Footer -->
        <div class="cart-page-footer">
            <div class="footer-amount">
                ‚Çπ<span id="cartPageTotal">0</span>
                <a href="#">View details</a>
            </div>
            <button class="cart-checkout-btn" onclick="checkout()">Proceed to Payment</button>
        </div>
    </section>

    <!-- Cart Modal (Small Popup) -->
    <div class="cart-modal" id="cartModal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeCart()">&times;</span>
            <h2>Your Cart</h2>
            <div class="cart-items" id="cartItems">
                <p class="empty-cart">Your cart is empty</p>
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <strong>Total: ‚Çπ<span id="cartTotal">0</span></strong>
                </div>
                <button class="btn btn-primary" onclick="closeCart(); viewFullCart();">View Full Cart</button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="admin-login-modal" id="adminLoginModal" style="display: none;">
        <div class="admin-login-content">
            <h2>Admin Login</h2>
            <form onsubmit="adminLogin(event)">
                <div class="form-group">
                    <label for="adminUsername">Username:</label>
                    <input type="text" id="adminUsername" placeholder="Enter username" required>
                </div>
                <div class="form-group">
                    <label for="adminPassword">Password:</label>
                    <input type="password" id="adminPassword" placeholder="Enter password" required>
                </div>
                <button type="submit" class="admin-login-btn">Login</button>
                <button type="button" class="admin-cancel-btn" onclick="closeAdminLogin()">Cancel</button>
            </form>
        </div>
    </div>

    <!-- Admin Section -->
    <section class="admin-section" id="adminSection" style="display: none;">
        <div class="admin-header">
            <h2>Admin Dashboard</h2>
            <button class="admin-logout-btn" onclick="adminLogout()">Logout</button>
        </div>
        
        <!-- Admin Action Buttons -->
        <div class="admin-action-buttons">
            <h3 class="admin-action-title">Admin Dashboard</h3>
            <div class="admin-buttons-group">
                <button class="admin-action-btn" title="Notifications">
                    <span class="action-icon">üîî</span>
                </button>
                <button class="admin-action-btn" title="Order Confirmation">
                    <span class="action-icon">üì¶</span>
                </button>
                <button class="admin-action-btn" title="Total Confirmed Orders">
                    <span class="action-icon">‚úÖ</span>
                </button>
                <button class="admin-action-btn" title="Cancelled Orders">
                    <span class="action-icon">‚ùå</span>
                </button>
            </div>
        </div>
        
        <div class="admin-content">
            <!-- Advanced Stats -->
            <div class="admin-stats-container">
                <!-- Main Box 1: Users & Revenue -->
                <div class="stat-main-box">
                    <div class="stat-box-grid">
                        <div class="stat-mini">
                            <h4>Registered Users</h4>
                            <p id="registeredUsers">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Visitors</h4>
                            <p id="visitors">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Today Sales</h4>
                            <p id="todaySales">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Total Revenue</h4>
                            <p id="totalRevenue">‚Çπ0</p>
                        </div>
                    </div>
                </div>

                <!-- Main Box 2: Projects & Classification -->
                <div class="stat-main-box">
                    <div class="stat-box-grid">
                        <div class="stat-mini">
                            <h4>Total Projects</h4>
                            <p id="totalProjects">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Types of Projects</h4>
                            <p id="projectTypes">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Subjects</h4>
                            <p id="totalSubjects">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Colleges</h4>
                            <p id="totalColleges">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bar Graphs -->
            <div class="admin-graphs">
                <div class="graph-box">
                    <h3>Registered Users</h3>
                    <div class="graph-container">
                        <canvas id="subjectChart"></canvas>
                    </div>
                </div>
                <div class="graph-box">
                    <h3>Total Revenue</h3>
                    <div class="graph-container">
                        <canvas id="collegeChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Tab Navigation -->
            <div class="admin-tabs">
                <button class="tab-btn active" onclick="switchAdminTab('projects')">üìã Manage Projects</button>
                <button class="tab-btn" onclick="openUserManagementPage()">üë• User Management</button>
                <button class="tab-btn" onclick="switchAdminTab('addproject')">‚ûï New Project</button>
            </div>

            <!-- Projects Tab -->
            <div id="projectsTab" class="admin-tab active">
                <div class="admin-projects-header">
                    <input type="text" id="adminSearchInput" placeholder="Search projects..." class="admin-search" onkeyup="adminSearchProjects()">
                    <select id="adminFilterSubject" class="admin-filter" onchange="adminFilterProjects()">
                        <option value="">All Subjects</option>
                    </select>
                </div>
                <div id="adminProjectsList" class="admin-projects-list"></div>
            </div>


            <!-- Add Project Tab -->
            <div id="addprojectTab" class="admin-tab" style="display: none;">
                <form class="add-project-form" onsubmit="addNewProject(event)">
                    <input type="text" placeholder="Project Topic" id="newProjectTopic" required>
                    <select id="newProjectSubject" required>
                        <option value="">Select Subject</option>
                        <option value="CSE">CSE</option>
                        <option value="ECE">ECE</option>
                        <option value="Mechanical">Mechanical</option>
                        <option value="Civil">Civil</option>
                    </select>
                    <input type="text" placeholder="College Name" id="newProjectCollege" required>
                    <input type="number" placeholder="Price (‚Çπ)" id="newProjectPrice" required min="1">
                    <button type="submit" class="add-project-btn">Add Project</button>
                </form>
            </div>
        </div>
    </section>

    <!-- User Management Full Page -->
    <section id="userManagementPage" style="display: none;">
        <div class="user-management-container">
            <div class="user-management-header">
                <button class="back-btn" onclick="closeUserManagementPage()">‚Üê Back to Dashboard</button>
                <h2>üë• User Management</h2>
                <div class="user-header-stats">
                    <div class="stat-box">
                        <span class="stat-label">Total Users</span>
                        <span class="stat-number" id="totalUsersDisplay">0</span>
                    </div>
                    <div class="stat-box" id="banAccountBox" style="cursor: pointer; transition: all 0.3s;" onclick="toggleBanFilter()">
                        <span class="stat-label">Ban Account</span>
                        <span class="stat-number" id="bannedUsersDisplay">0</span>
                    </div>
                </div>
            </div>
            <div class="user-search-section">
                <input type="text" id="userSearchInputFull" placeholder="üîç Search users by name, email or college..." class="user-search-input" onkeyup="adminSearchUsersFull()">
            </div>
            <div class="user-management-grid" id="adminUsersListFull">
                <div class="admin-empty-state"><p>Loading users...</p></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 ProjectHub. | Academic Projects</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
