<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ProjectHub - Academic Project Marketplace</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header/Navigation -->
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <button class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="logo">üìö ProjectHub</div>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#" class="nav-link">Home</a></li>
                    <li><a href="#projects" class="nav-link">Projects</a></li>
                    <li><a href="#" class="nav-link">About</a></li>
                    <li><a href="#" class="nav-link">Contact</a></li>
                </ul>
                <button class="search-btn" id="searchBtn">üîç Search</button>
                <div class="cart-icon" id="cartIcon">
                    <span>üõí</span>
                    <span class="cart-count" id="cartCount">0</span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Projects Section -->
    <section class="projects" id="projects">
        <div class="container">
            <div class="projects-header">
                <h2>Available Projects</h2>
                <div class="filter-dropdown">
                    <button class="filter-btn" id="filterBtn">‚öôÔ∏è Filter</button>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <button class="dropdown-item" onclick="filterBySubject('All')">All Subjects</button>
                    </div>
                </div>
            </div>
            <div class="projects-grid" id="projectsGrid">
                <!-- Projects will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Product Detail Section -->
    <section class="product-detail" id="productDetail" style="display: none;">
        <!-- Detail Header -->
        <div class="detail-header">
            <button class="detail-back-btn" onclick="backToProjects()">‚Üê</button>
            <div class="detail-header-icons">
                <button class="header-icon" id="favoriteBtn" onclick="toggleFavorite()">ü§ç</button>
                <button class="header-icon" onclick="openCartModal()">üõí</button>
            </div>
        </div>

        <!-- Detail Content -->
        <div class="detail-scroll-content">
            <!-- Image Section -->
            <div class="detail-image-section">
                <img id="detailImage" src="" alt="Product Image" class="detail-main-image">
            </div>

            <!-- Info Section -->
            <div class="detail-info-section">
                <h1 id="detailName" class="detail-product-name"></h1>
                
                <div class="detail-meta">
                    <span id="detailSubject" class="detail-subject"></span>
                    <span id="detailCollege" class="detail-college"></span>
                </div>

                <div class="detail-price-box">
                    <p class="detail-price-label">Price</p>
                    <p id="detailPrice" class="detail-price"></p>
                </div>

                <div class="detail-description">
                    <h3>About this project</h3>
                    <p id="detailDesc">Premium physical project file with complete documentation, implementation code printouts, and detailed explanation. Perfect for academic submission and understanding.</p>
                </div>

                <div class="detail-specs">
                    <h3>Product Details</h3>
                    <div class="spec-row">
                        <span class="spec-label">Format:</span>
                        <span class="spec-value">Printed & Bound</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Pages:</span>
                        <span class="spec-value">40-60 pages</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Delivery:</span>
                        <span class="spec-value">3-5 Working Days</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Package Includes:</span>
                        <span class="spec-value">Report + Code + Docs</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Condition:</span>
                        <span class="spec-value">Brand New</span>
                    </div>
                    <div class="spec-row">
                        <span class="spec-label">Stock Status:</span>
                        <span class="spec-value">In Stock</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add to Cart Button (Fixed at bottom) -->
        <div class="detail-footer">
            <button class="detail-add-cart-btn" onclick="addToCartFromDetail()">Add to Cart</button>
        </div>
    </section>

    <!-- Search Modal -->
    <div class="search-modal" id="searchModal" style="display: none;">
        <div class="search-container">
            <div class="search-input-wrapper">
                <input type="text" id="searchInput" class="search-input" placeholder="Search by project name, subject, or college...">
                <div class="search-suggestions" id="searchSuggestions"></div>
            </div>
        </div>
    </div>

    <!-- Full Page Cart Section -->
    <section class="cart-page" id="cartPage" style="display: none;">
        <!-- Header -->
        <div class="cart-page-header">
            <button class="cart-close-btn" onclick="backToProjects()">‚úï</button>
            <button class="cart-heart-btn">ü§ç</button>
        </div>

        <!-- Content -->
        <div class="cart-page-content">
            <!-- Bag Title -->
            <div class="cart-bag-title">
                <h2>Bag (<span id="cartItemCount">0</span> product<span id="cartProductS">s</span>)</h2>
            </div>

            <!-- Cart Items -->
            <div class="cart-page-items" id="cartPageItems">
                <p class="empty-cart">Your cart is empty</p>
            </div>

            <!-- Coupon Section -->
            <div class="cart-coupon-section">
                <div class="coupon-icon">üéüÔ∏è</div>
                <div class="coupon-text">Apply coupon</div>
                <a href="#" class="coupon-select">Select</a>
            </div>

            <!-- Order Details -->
            <div class="cart-order-details">
                <h3>Order Details</h3>
                <div class="detail-row">
                    <span>Bag Total</span>
                    <span>‚Çπ<span id="cartBagTotal">0</span></span>
                </div>
                <div class="detail-row">
                    <span>Coupon savings</span>
                    <a href="#">Apply coupon</a>
                </div>
                <div class="detail-row">
                    <span>Delivery Fee</span>
                    <span class="detail-free">Free</span>
                </div>
                <div class="detail-row">
                    <span>Platform Fee</span>
                    <span class="detail-free">Free</span>
                </div>
                <div class="detail-row total">
                    <span>Amount Payable</span>
                    <span>‚Çπ<span id="cartAmountPayable">0</span></span>
                </div>
            </div>

            <!-- Spacer for fixed footer -->
            <div style="height: 150px;"></div>
        </div>

        <!-- Fixed Footer -->
        <div class="cart-page-footer">
            <div class="footer-amount">
                ‚Çπ<span id="cartPageTotal">0</span>
                <a href="#">View details</a>
            </div>
            <button class="cart-checkout-btn" onclick="checkout()">Proceed to Payment</button>
        </div>
    </section>

    <!-- Cart Modal (Small Popup) -->
    <div class="cart-modal" id="cartModal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeCart()">&times;</span>
            <h2>Your Cart</h2>
            <div class="cart-items" id="cartItems">
                <p class="empty-cart">Your cart is empty</p>
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <strong>Total: ‚Çπ<span id="cartTotal">0</span></strong>
                </div>
                <button class="btn btn-primary" onclick="closeCart(); viewFullCart();">View Full Cart</button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="admin-login-modal" id="adminLoginModal" style="display: none;">
        <div class="admin-login-content">
            <h2>Admin Login</h2>
            <form onsubmit="adminLogin(event)">
                <div class="form-group">
                    <label for="adminUsername">Username:</label>
                    <input type="text" id="adminUsername" placeholder="Enter username" required>
                </div>
                <div class="form-group">
                    <label for="adminPassword">Password:</label>
                    <input type="password" id="adminPassword" placeholder="Enter password" required>
                </div>
                <button type="submit" class="admin-login-btn">Login</button>
                <button type="button" class="admin-cancel-btn" onclick="closeAdminLogin()">Cancel</button>
            </form>
        </div>
    </div>

    <!-- Admin Section -->
    <section class="admin-section" id="adminSection" style="display: none;">
        <div class="admin-header">
            <h2>Admin Dashboard</h2>
            <button class="admin-logout-btn" onclick="adminLogout()">Logout</button>
        </div>
        
        <!-- Admin Quick Stats Section -->
        <div class="admin-quick-stats-wrapper">
            <h3 class="admin-quick-stats-title">üìä Quick Actions</h3>
            <div class="admin-quick-stats">
            <div class="quick-stat-card" onclick="openStatSection('notifications')">
                <div class="stat-icon">üîî</div>
                <div class="stat-content">
                    <h4>Notifications</h4>
                    <p id="notificationCount">12</p>
                </div>
            </div>
            <div class="quick-stat-card" onclick="openStatSection('orderConfirm')">
                <div class="stat-icon">üì¶</div>
                <div class="stat-content">
                    <h4>Order Confirmation</h4>
                    <p id="orderConfirmCount">8</p>
                </div>
            </div>
            <div class="quick-stat-card" onclick="openStatSection('confirmedOrders')">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-content">
                    <h4>Confirmed Orders</h4>
                    <p id="confirmedOrderCount">45</p>
                </div>
            </div>
            <div class="quick-stat-card" onclick="openStatSection('cancelledOrders')">
                <div class="stat-icon">‚ùå</div>
                <div class="stat-content">
                    <h4>Cancelled Orders</h4>
                    <p id="cancelledOrderCount">3</p>
                </div>
            </div>
            </div>
        </div>
        
        <div class="admin-content">
            <!-- Advanced Stats -->
            <div class="admin-stats-container">
                <!-- Main Box 1: Users & Revenue -->
                <div class="stat-main-box">
                    <div class="stat-box-grid">
                        <div class="stat-mini">
                            <h4>Registered Users</h4>
                            <p id="registeredUsers">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Visitors</h4>
                            <p id="visitors">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Today Sales</h4>
                            <p id="todaySales">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Total Revenue</h4>
                            <p id="totalRevenue">‚Çπ0</p>
                        </div>
                    </div>
                </div>

                <!-- Main Box 2: Projects & Classification -->
                <div class="stat-main-box">
                    <div class="stat-box-grid">
                        <div class="stat-mini">
                            <h4>Total Projects</h4>
                            <p id="totalProjects">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Types of Projects</h4>
                            <p id="projectTypes">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Subjects</h4>
                            <p id="totalSubjects">0</p>
                        </div>
                        <div class="stat-mini">
                            <h4>Colleges</h4>
                            <p id="totalColleges">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bar Graphs -->
            <div class="admin-graphs">
                <div class="graph-box">
                    <h3>Registered Users</h3>
                    <div class="graph-container">
                        <canvas id="subjectChart"></canvas>
                    </div>
                </div>
                <div class="graph-box">
                    <h3>Total Revenue</h3>
                    <div class="graph-container">
                        <canvas id="collegeChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Tab Navigation -->
            <div class="admin-tabs">
                <button class="tab-btn active" onclick="switchAdminTab('projects')">üìã Manage Projects</button>
                <button class="tab-btn" onclick="openUserManagementPage()">üë• User Management</button>
                <button class="tab-btn" onclick="switchAdminTab('addproject')">‚ûï New Project</button>
            </div>

            <!-- Projects Tab -->
            <div id="projectsTab" class="admin-tab active">
                <div class="admin-projects-header">
                    <input type="text" id="adminSearchInput" placeholder="Search projects..." class="admin-search" onkeyup="adminSearchProjects()">
                    <select id="adminFilterSubject" class="admin-filter" onchange="adminFilterProjects()">
                        <option value="">All Subjects</option>
                    </select>
                </div>
                <div id="adminProjectsList" class="admin-projects-list"></div>
            </div>


            <!-- Add Project Tab -->
            <div id="addprojectTab" class="admin-tab" style="display: none;">
                <form class="add-project-form" onsubmit="addNewProject(event)">
                    <input type="text" placeholder="Project Topic" id="newProjectTopic" required>
                    <select id="newProjectSubject" required>
                        <option value="">Select Subject</option>
                        <option value="CSE">CSE</option>
                        <option value="ECE">ECE</option>
                        <option value="Mechanical">Mechanical</option>
                        <option value="Civil">Civil</option>
                    </select>
                    <input type="text" placeholder="College Name" id="newProjectCollege" required>
                    <input type="number" placeholder="Price (‚Çπ)" id="newProjectPrice" required min="1">
                    <button type="submit" class="add-project-btn">Add Project</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Notifications Chat Section - WhatsApp Style -->
    <section id="notificationsChatPage" style="display: none;">
        <div class="whatsapp-container">
            <!-- Left Sidebar - Users List -->
            <div class="wa-sidebar">
                <div class="wa-sidebar-header">
                    <button class="wa-back-btn" onclick="closeNotificationsChat()">‚Üê</button>
                    <h3>Chats</h3>
                </div>
                
                <div class="wa-search-container">
                    <div class="wa-search-box">
                        <span class="wa-search-icon">üîç</span>
                        <input type="text" id="chatUserSearch" placeholder="Search or start new chat" onkeyup="searchChatUsers()">
                    </div>
                </div>
                
                <div class="wa-filter-tabs">
                    <button class="wa-filter-tab active" onclick="filterChatUsers('all')">All</button>
                    <button class="wa-filter-tab" onclick="filterChatUsers('unread')">Unread</button>
                </div>
                
                <div class="wa-chats-list" id="chatUsersList">
                    <!-- Users will be loaded here -->
                </div>
            </div>
            
            <!-- Right Side - Chat Area -->
            <div class="wa-chat-area" id="notificationsChatArea">
                <div class="wa-no-chat-selected">
                    <div class="wa-no-chat-icon">üí¨</div>
                    <h2>ProjectHub Web</h2>
                    <p>Send and receive messages from users.<br>Select a chat to start messaging.</p>
                </div>
            </div>
            
            <!-- Active Chat View (hidden by default) -->
            <div class="wa-active-chat" id="waActiveChat" style="display: none;">
                <div class="wa-chat-header">
                    <button class="wa-chat-back-btn" onclick="closeChatView()">‚Üê</button>
                    <div class="wa-chat-user-info">
                        <div class="wa-chat-avatar" id="waChatAvatar">üë§</div>
                        <div class="wa-chat-user-details">
                            <h4 id="waChatUserName">User Name</h4>
                            <span class="wa-online-status" id="waChatUserStatus">online</span>
                        </div>
                    </div>
                    <div class="wa-chat-actions">
                        <button class="wa-action-btn" title="More options" onclick="toggleWaChatMenu()">‚ãÆ</button>
                        <div class="wa-chat-menu" id="waChatMenu" style="display: none;">
                            <button onclick="clearWaChat()" class="wa-menu-item">Clear Chat</button>
                            <button onclick="muteWaChat()" class="wa-menu-item">Mute Notifications</button>
                            <button onclick="blockWaUser()" class="wa-menu-item">Block User</button>
                        </div>
                    </div>
                </div>
                
                <div class="wa-messages-container" id="waMessagesContainer">
                    <!-- Messages will appear here -->
                </div>
                
                <div class="wa-input-area">
                    <div class="wa-attached-preview" id="waAttachedPreview"></div>
                    <div class="wa-input-row">
                        <button class="wa-emoji-btn" title="Emoji" onclick="insertWaEmoji('üòä')">üòä</button>
                        <button class="wa-attach-btn" onclick="document.getElementById('waFileInput').click()" title="Attach file">üìé</button>
                        <input type="file" id="waFileInput" multiple accept="image/*,video/*,.pdf,.doc,.docx,.txt,.zip" style="display:none" onchange="handleWaFileSelect(event)">
                        <input type="text" id="waMessageInput" class="wa-message-input" placeholder="Type a message" onkeypress="handleWaMessageKeypress(event)">
                        <button class="wa-send-btn" onclick="sendWaMessage()" title="Send">
                            <span class="send-icon">‚û§</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Image Viewer Modal -->
        <div class="wa-image-modal" id="waImageModal" style="display: none;">
            <div class="wa-image-modal-overlay" onclick="closeWaImageModal()"></div>
            <div class="wa-image-modal-content">
                <button class="wa-image-modal-close" onclick="closeWaImageModal()">‚úï</button>
                <img id="waImageModalImg" src="" alt="Image">
            </div>
        </div>
        
        <!-- PDF Viewer Modal -->
        <div class="wa-pdf-modal" id="waPdfModal" style="display: none;">
            <div class="wa-pdf-modal-overlay" onclick="closeWaPdfModal()"></div>
            <div class="wa-pdf-modal-content">
                <div class="wa-pdf-modal-header">
                    <h3>PDF Preview</h3>
                    <button class="wa-pdf-modal-close" onclick="closeWaPdfModal()">‚úï</button>
                </div>
                <iframe id="waPdfViewer" class="wa-pdf-viewer" src=""></iframe>
                <button class="wa-pdf-download-btn" onclick="downloadCurrentPdf()">Download PDF</button>
            </div>
        </div>
        
        <!-- Text File Preview Modal -->
        <div class="wa-text-modal" id="waTextModal" style="display: none;">
            <div class="wa-text-modal-overlay" onclick="closeWaTextModal()"></div>
            <div class="wa-text-modal-content">
                <div class="wa-text-modal-header">
                    <h3>File Preview</h3>
                    <button class="wa-text-modal-close" onclick="closeWaTextModal()">‚úï</button>
                </div>
                <pre id="waTextContent" class="wa-text-content"></pre>
            </div>
        </div>
    </section>

    <!-- Order Confirmation Chat Section -->
    <section id="orderConfirmChatPage" style="display: none;">
        <div class="chat-page-container enhanced-section">
            <div class="chat-header gradient-header pending-gradient">
                <button class="chat-back-btn" onclick="closeOrderConfirmChat()">‚Üê Back</button>
                <div class="header-title-area">
                    <div class="header-icon-badge pulse-animation">üì¶</div>
                    <div>
                        <h2>Order Confirmation</h2>
                        <p class="header-subtitle">Review and confirm pending orders</p>
                    </div>
                </div>
                <div class="chat-header-stats">
                    <div class="stat-badge warning">
                        <span class="stat-number" id="totalOrdersPending">0</span>
                        <span class="stat-label">Pending</span>
                    </div>
                    <div class="stat-badge">
                        <span class="stat-number" id="pendingOrdersValue">‚Çπ0</span>
                        <span class="stat-label">Value</span>
                    </div>
                </div>
            </div>
            
            <div class="chat-main-content">
                <!-- Orders List -->
                <div class="chat-users-sidebar">
                    <div class="chat-search-box">
                        <span class="search-icon">üîç</span>
                        <input type="text" id="orderSearchInput" placeholder="Search orders..." onkeyup="searchPendingOrders()">
                    </div>
                    <div class="order-filter-bar">
                        <button class="filter-chip active" onclick="filterPendingOrders('all')">All</button>
                        <button class="filter-chip" onclick="filterPendingOrders('today')">Today</button>
                        <button class="filter-chip" onclick="filterPendingOrders('week')">This Week</button>
                    </div>
                    <div class="chat-users-list" id="ordersList">
                        <div class="skeleton-loader">
                            <div class="skeleton-item"></div>
                            <div class="skeleton-item"></div>
                            <div class="skeleton-item"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Order Details -->
                <div class="chat-area">
                    <div class="order-detail-panel" id="orderDetailInfo">
                        <div class="chat-empty-state animated">
                            <div class="empty-icon">üìã</div>
                            <h3>Select an order to confirm</h3>
                            <p>Click on any pending order from the list</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Confirmed Orders Chat Section -->
    <section id="confirmedOrdersChatPage" style="display: none;">
        <div class="chat-page-container enhanced-section">
            <div class="chat-header gradient-header success-gradient">
                <button class="chat-back-btn" onclick="closeConfirmedOrdersChat()">‚Üê Back</button>
                <div class="header-title-area">
                    <div class="header-icon-badge success-icon">‚úÖ</div>
                    <div>
                        <h2>Confirmed Orders</h2>
                        <p class="header-subtitle">Successfully confirmed orders</p>
                    </div>
                </div>
                <div class="chat-header-stats">
                    <div class="stat-badge success">
                        <span class="stat-number" id="totalConfirmedOrders">0</span>
                        <span class="stat-label">Orders</span>
                    </div>
                    <div class="stat-badge">
                        <span class="stat-number" id="confirmedOrdersRevenue">‚Çπ0</span>
                        <span class="stat-label">Revenue</span>
                    </div>
                </div>
            </div>
            
            <div class="chat-main-content">
                <!-- Confirmed Orders List -->
                <div class="chat-users-sidebar">
                    <div class="chat-search-box">
                        <span class="search-icon">üîç</span>
                        <input type="text" id="confirmedSearchInput" placeholder="Search confirmed orders..." onkeyup="searchConfirmedOrdersList()">
                    </div>
                    <div class="order-filter-bar">
                        <button class="filter-chip active" onclick="filterConfirmedOrders('all')">All</button>
                        <button class="filter-chip" onclick="filterConfirmedOrders('today')">Today</button>
                        <button class="filter-chip" onclick="filterConfirmedOrders('week')">This Week</button>
                    </div>
                    <div class="chat-users-list" id="confirmedOrdersList">
                        <div class="skeleton-loader">
                            <div class="skeleton-item"></div>
                            <div class="skeleton-item"></div>
                            <div class="skeleton-item"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Order Details -->
                <div class="chat-area">
                    <div class="order-detail-panel" id="confirmedOrderDetailInfo">
                        <div class="chat-empty-state animated">
                            <div class="empty-icon success-bg">üéâ</div>
                            <h3>Select an order to view details</h3>
                            <p>View completed order information and items</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Cancelled Orders Chat Section -->
    <section id="cancelledOrdersChatPage" style="display: none;">
        <div class="chat-page-container enhanced-section">
            <div class="chat-header gradient-header danger-gradient">
                <button class="chat-back-btn" onclick="closeCancelledOrdersChat()">‚Üê Back</button>
                <div class="header-title-area">
                    <div class="header-icon-badge danger-icon">‚ùå</div>
                    <div>
                        <h2>Cancelled Orders</h2>
                        <p class="header-subtitle">Orders that were cancelled</p>
                    </div>
                </div>
                <div class="chat-header-stats">
                    <div class="stat-badge danger">
                        <span class="stat-number" id="totalCancelledOrders">0</span>
                        <span class="stat-label">Cancelled</span>
                    </div>
                    <div class="stat-badge">
                        <span class="stat-number" id="cancelledOrdersLoss">‚Çπ0</span>
                        <span class="stat-label">Lost Value</span>
                    </div>
                </div>
            </div>
            
            <div class="chat-main-content">
                <!-- Cancelled Orders List -->
                <div class="chat-users-sidebar">
                    <div class="chat-search-box">
                        <span class="search-icon">üîç</span>
                        <input type="text" id="cancelledSearchInput" placeholder="Search cancelled orders..." onkeyup="searchCancelledOrdersList()">
                    </div>
                    <div class="order-filter-bar">
                        <button class="filter-chip active" onclick="filterCancelledOrders('all')">All</button>
                        <button class="filter-chip" onclick="filterCancelledOrders('today')">Today</button>
                        <button class="filter-chip" onclick="filterCancelledOrders('week')">This Week</button>
                    </div>
                    <div class="chat-users-list" id="cancelledOrdersList">
                        <div class="skeleton-loader">
                            <div class="skeleton-item"></div>
                            <div class="skeleton-item"></div>
                            <div class="skeleton-item"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Order Details -->
                <div class="chat-area">
                    <div class="order-detail-panel" id="cancelledOrderDetailInfo">
                        <div class="chat-empty-state animated">
                            <div class="empty-icon danger-bg">üì≠</div>
                            <h3>Select an order to view details</h3>
                            <p>Review cancelled order information</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Individual User Chat Section -->
    <section id="userChatPage" style="display: none;">
        <div class="chat-page-container">
            <div class="chat-header-left">
                <button class="chat-back-icon-btn" onclick="closeUserChat()">‚Üê</button>
                <h2 id="userChatName">User Chat</h2>
            </div>
            
            <div class="user-chat-messages" id="userChatMessages">
                <!-- Messages will appear here -->
            </div>
            
            <div class="user-chat-input-area">
                <div id="attachedFilesPreview" class="attached-files-preview"></div>
                <div class="chat-input-container">
                    <input type="file" id="fileInput" multiple accept="image/*,video/*,.pdf,.doc,.docx,.txt" onchange="handleFileSelect(event)">
                    <input type="text" id="userMessageInput" placeholder="Message..." class="user-message-input">
                    <button class="file-attach-btn" onclick="document.getElementById('fileInput').click()" title="Attach files">üìé</button>
                    <button class="user-send-btn" onclick="sendMessage()">Send</button>
                </div>
            </div>
        </div>
    </section>

    <!-- User Management Full Page -->
    <section id="userManagementPage" style="display: none;">
        <div class="user-management-container">
            <div class="user-management-header">
                <button class="back-btn" onclick="closeUserManagementPage()">‚Üê Back to Dashboard</button>
                <h2>üë• User Management</h2>
                <div class="user-header-stats">
                    <div class="stat-box">
                        <span class="stat-label">Total Users</span>
                        <span class="stat-number" id="totalUsersDisplay">0</span>
                    </div>
                    <div class="stat-box" id="banAccountBox" style="cursor: pointer; transition: all 0.3s;" onclick="toggleBanFilter()">
                        <span class="stat-label">Ban Account</span>
                        <span class="stat-number" id="bannedUsersDisplay">0</span>
                    </div>
                </div>
            </div>
            <div class="user-search-section">
                <input type="text" id="userSearchInputFull" placeholder="üîç Search users by name, email or college..." class="user-search-input" onkeyup="adminSearchUsersFull()">
            </div>
            <div class="user-management-grid" id="adminUsersListFull">
                <div class="admin-empty-state"><p>Loading users...</p></div>
            </div>
        </div>
    </section>

    <script src="script.js"></script>
    
    <!-- Footer - Only shown on home page -->
    <footer id="mainFooter">
        <p>&copy; 2025 ProjectHub. | Academic Projects</p>
    </footer>
</body>
</html>
